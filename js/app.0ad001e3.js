(function(t){function e(e){for(var s,a,r=e[0],c=e[1],u=e[2],d=0,m=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={app:0},o=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/TaskControlApp/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"1ac9":function(t,e,n){"use strict";n("b5f2")},"1d56":function(t,e,n){},"29c6":function(t,e,n){},"2d74":function(t,e,n){"use strict";n("29c6")},"2e1f":function(t,e,n){t.exports=n.p+"img/done.334a307e.svg"},"36be":function(t,e,n){t.exports=n.p+"img/menu.b7a5534e.svg"},3953:function(t,e,n){},"3f76":function(t,e,n){"use strict";n("bff8")},4045:function(t,e,n){t.exports=n.p+"img/loading.6cae157d.svg"},"4ccb":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var s={};n.r(s),n.d(s,"namespaced",(function(){return Ot})),n.d(s,"state",(function(){return $t})),n.d(s,"mutations",(function(){return jt})),n.d(s,"actions",(function(){return Pt}));var i={};n.r(i),n.d(i,"namespaced",(function(){return Nt})),n.d(i,"state",(function(){return Bt})),n.d(i,"mutations",(function(){return Rt})),n.d(i,"actions",(function(){return Ut})),n.d(i,"getters",(function(){return At}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.session.user?n("Menu",{attrs:{menuLeft:t.menuLeft}}):t._e(),n("router-view"),n("Message",{ref:"Message"}),n("Loading")],1)},r=[],c=n("5530"),u=n("1da1"),l=(n("caad"),n("2532"),n("96cf"),n("2f62")),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"header"}},[s("button",{on:{click:t.showMenu}},[s("img",{attrs:{src:n("36be")}})]),s("span",{attrs:{id:"title"}},[t._v(t._s(t.list.list?t.list.list.name:"TaskControl"))])]),s("transition",{attrs:{name:"shadowOpacity"}},[void 0!=t.menuLeft||t.showingMenu?s("div",{attrs:{id:"shadow"},on:{click:function(e){t.showingMenu&&void 0==t.menuLeft&&t.showMenu()}}}):t._e()]),s("div",{class:{showing:t.showingMenu,visible:void 0!=t.menuLeft||t.showingMenu},attrs:{id:"nav"}},[s("div",{attrs:{id:"navHeader"}},[s("router-link",{attrs:{to:"/home",id:"homeLink"}},[t._v("TaskControl")])],1),s("div",{attrs:{id:"navBody"}},[t._l(t.list.lists,(function(e,n){return[s("router-link",{key:n,attrs:{to:"/list/"+e._id}},[t._v(t._s(e.name))])]}))],2),s("div",{attrs:{id:"navFooter"}},[s("p",[t._v("© by Djalmir Miodutzki")]),s("div",{attrs:{id:"logoutContainer"},on:{click:t.logout}},[s("router-link",{attrs:{to:"#",id:"logoutBt"}},[t._v(" Sair ")])],1)])])],1)},m=[],h={props:["menuLeft"],watch:{menuLeft:function(){var t=document.querySelector("#nav");void 0!=this.menuLeft?(t.style.transition="0s",t.style.left=this.menuLeft+"px"):(t.style.transition=".2s",t.style.left="",this.showingMenu?t.classList.add("showing"):t.classList.remove("showing"))}},computed:Object(c["a"])({},Object(l["b"])(["showingMenu","list"])),methods:{showMenu:function(){this.$store.dispatch("setShowingMenu")},logout:function(){this.$store.dispatch("list/setList",null),this.$store.dispatch("list/setLists",null),this.$store.dispatch("session/setUser",!1),this.$store.dispatch("goTo","/")}}},p=h,f=(n("c28f"),n("2877")),g=Object(f["a"])(p,d,m,!1,null,"790ac86e",null),v=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.showing?n("div",{attrs:{id:"messageContainer"}},[n("div",{attrs:{id:"shadow"}}),n("div",{attrs:{id:"messageDiv"}},[n("div",{attrs:{id:"messageHeader"}},[t._v(t._s(t.title))]),n("div",{attrs:{id:"messageBody"}},[n("p",{attrs:{id:"messageMsg"}})]),n("div",{attrs:{id:"messageFooter"}},[n("button",{attrs:{id:"messageOkBt"}},[t._v("Ok")])])])]):t._e()])},b=[],_=(n("d3b7"),{name:"Message",data:function(){return{showing:!1,title:"",message:""}},methods:{show:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.title,i=t.msg,n.next=3,!0;case 3:return e.showing=n.sent,n.next=6,s;case 6:return e.title=n.sent,n.next=9,i;case 9:return e.message=n.sent,n.next=12,e.message;case 12:return document.querySelector("#messageMsg").innerText=n.sent,n.next=15,document.getElementById("messageOkBt");case 15:return o=n.sent,n.abrupt("return",new Promise((function(t){o.onclick=function(){e.$store.dispatch("showMessage",null),e.showing=!1,t(!0)}})));case 17:case"end":return n.stop()}}),n)})))()}}}),y=_,S=(n("5837"),Object(f["a"])(y,w,b,!1,null,"570c9170",null)),T=S.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.loading?s("div",{attrs:{id:"loadingContainer"}},[s("div",{attrs:{id:"shadow"}}),s("img",{attrs:{src:n("4045")}})]):t._e()])},x=[],E={name:"Loading",computed:Object(c["a"])({},Object(l["b"])(["loading"]))},I=E,L=(n("1ac9"),Object(f["a"])(I,k,x,!1,null,"7ddf662a",null)),M=L.exports,C=n("bc3a"),O=n.n(C),$=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"body"}},[n("div",{attrs:{id:"container"}},[t._m(0),n("div",{attrs:{id:"loginFormOuter"}},[n("div",{attrs:{id:"loginForm"}},[n("p",{staticClass:"textInputOuter"},[n("label",{staticClass:"textInputLabel",class:{textInputLabelEmpty:""==t.email&&"emailInput"!=t.activeElementId},attrs:{for:"emailInput"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"textInputInner",attrs:{type:"email",name:"emailInput",id:"emailInput"},domProps:{value:t.email},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},blur:function(e){t.activeElementId=null},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",{staticClass:"textInputOuter"},[n("label",{staticClass:"textInputLabel",class:{textInputLabelEmpty:""==t.password&&"passwordInput"!=t.activeElementId},attrs:{for:"passwordInput"}},[t._v("Senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"textInputInner",attrs:{type:"password",name:"passwordInput",id:"passwordInput"},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},blur:function(e){t.activeElementId=null},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"greenBt",attrs:{id:"loginBt"},on:{click:t.login}},[t._v("Entrar")])]),n("p",[t._v(" Ainda não tem um cadastro? "),n("br"),n("router-link",{attrs:{to:"/signup"}},[t._v("Clique aqui")]),t._v(" e cadastre-se gratuitamente! ")],1)])]),n("Message",{ref:"Message"})],1)},P=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"welcomeMsg"}},[n("h1",[t._v("Boas vindas!")]),n("p",[t._v(" Faça login em sua conta "),n("b",[t._v("Razion")]),t._v(" para começar a organizar suas listas like a boss! ")])])}],N=(n("498a"),{name:"Login",components:{Message:T},data:function(){return{email:"",password:"",activeElementId:null}},mounted:function(){var t=this;document.addEventListener("focusin",(function(){t.activeElementId=document.activeElement.id})),this.$store.state.session.user&&this.$store.dispatch("goTo","/home")},methods:{login:function(){var t=this;""==this.email.trim()?this.$store.dispatch("showMessage",{title:"Por favor",msg:"Informe seu email"}):""==this.password.trim()?this.$store.dispatch("showMessage",{title:"Por favor",msg:"Digite uma senha"}):qt.login({email:this.email,password:this.password}).then((function(e){t.$store.dispatch("session/setUser",e.data.user),t.$store.dispatch("goTo","/home")}))}}}),B=N,R=(n("6659"),Object(f["a"])(B,j,P,!1,null,"b7c14274",null)),U=R.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"body"}},[n("div",{attrs:{id:"container"}},[t._m(0),n("div",{attrs:{id:"signupFormOuter"}},[n("div",{attrs:{id:"signupForm"}},[n("p",{staticClass:"textInputOuter"},[n("label",{staticClass:"textInputLabel",class:{textInputLabelEmpty:""==t.name&&"nameInput"!=t.activeElementId},attrs:{for:"nameInput"}},[t._v("Nome")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"textInputInner",attrs:{type:"text",name:"nameInput",id:"nameInput"},domProps:{value:t.name},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signUp.apply(null,arguments)},blur:function(e){t.activeElementId=null},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("p",{staticClass:"textInputOuter"},[n("label",{staticClass:"textInputLabel",class:{textInputLabelEmpty:""==t.email&&"emailInput"!=t.activeElementId},attrs:{for:"emailInput"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"textInputInner",attrs:{type:"email",name:"emailInput",id:"emailInput"},domProps:{value:t.email},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signUp.apply(null,arguments)},blur:function(e){t.activeElementId=null},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",{staticClass:"textInputOuter"},[n("label",{staticClass:"textInputLabel",class:{textInputLabelEmpty:""==t.password&&"passwordInput"!=t.activeElementId},attrs:{for:"passwordInput"}},[t._v("Senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"textInputInner",attrs:{type:"password",name:"passwordInput",id:"passwordInput"},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signUp.apply(null,arguments)},blur:function(e){t.activeElementId=null},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("p",{staticClass:"textInputOuter"},[n("label",{staticClass:"textInputLabel",class:{textInputLabelEmpty:""==t.confirmPassword&&"confirmPasswordInput"!=t.activeElementId},attrs:{for:"confirmPasswordInput"}},[t._v("Confirme a senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"textInputInner",attrs:{type:"password",name:"confirmPasswordInput",id:"confirmPasswordInput"},domProps:{value:t.confirmPassword},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signUp.apply(null,arguments)},blur:function(e){t.activeElementId=null},input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),n("button",{staticClass:"greenBt",attrs:{id:"signupBt"},on:{click:t.signUp}},[t._v("Cadastrar")])]),n("p",[t._v(" Já tem um cadastro? "),n("br"),n("router-link",{attrs:{to:"/"}},[t._v("Fazer Login")])],1)])])])},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"welcomeMsg"}},[n("h1",[t._v("Uma conta. Todas as vantagens!")]),n("p",[t._v(" Com uma única conta você tem acesso gratuito a todos os produtos oferecidos pela "),n("b",[t._v("Razion")]),t._v("! ")])])}],H=(n("b0c0"),{name:"Signup",data:function(){return{name:"",email:"",password:"",confirmPassword:"",activeElementId:null}},mounted:function(){var t=this;document.addEventListener("focusin",(function(){t.activeElementId=document.activeElement.id}))},methods:{signUp:function(){var t=this;""==this.name.trim()?this.$store.dispatch("showMessage",{title:"Por favor",msg:"Informe seu nome"}):""==this.email.trim()?this.$store.dispatch("showMessage",{title:"Por favor",msg:"Informe seu email"}):""==this.password.trim()?this.$store.dispatch("showMessage",{title:"Por favor",msg:"Digite uma senha"}):""==this.confirmPassword.trim()?this.$store.dispatch("showMessage",{title:"Por favor",msg:"Confirme a senha"}):this.password!=this.confirmPassword?this.$store.dispatch("showMessage",{title:"Erro",msg:"As senhas não coincidem"}):qt.signUp({name:this.name,email:this.email,password:this.password}).then((function(){t.$store.dispatch("showMessage",{title:"Boas vindas!",msg:"Seu cadastro foi efetuado com successo!"})}))}}}),F=H,q=(n("2d74"),Object(f["a"])(F,A,D,!1,null,"35e5c733",null)),z=q.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("BaseAddButton",{on:{add:t.addList}}),n("div",{attrs:{id:"list"}},[t._l(t.list.lists,(function(e,s){return n("div",{key:s,staticClass:"linkContainer"},[n("router-link",{attrs:{to:"/list/"+e._id}},[n("figure",{on:{contextmenu:function(n){return n.preventDefault(),function(n){"INPUT"!=n.target.tagName?t.subMenu(e._id):n.target.select()}.apply(null,arguments)}}},[n("ListImage",{staticClass:"listImage",attrs:{list:e}}),n("figcaption",[t.renaming!=e._id?n("div",[t._v(t._s(e.name))]):t._e(),t.renaming==e._id?n("input",{staticClass:"nameInput",attrs:{type:"text",placeholder:"Nome",id:"nameInput"+e._id,autocomplete:"off"},domProps:{value:e.name},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.renameOrSave(e)},keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:t.delOrCancel(e)}}}):t._e()])],1)]),n("SubMenu",{attrs:{item:e},on:{delOrCancel:t.delOrCancel,renameOrSave:t.renameOrSave}})],1)})),n("Confirm",{ref:"confirmDialog"})],2)],1)},W=[],Y=n("2909"),X=(n("99af"),n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 32 22",xmlns:"http://www.w3.org/2000/svg"}},[n("text",{attrs:{x:"16",y:"11","dominant-baseline":"central"}},[t._v(t._s(t.imgTxt))])])}),J=[],K=(n("ac1f"),n("1276"),{props:["list"],data:function(){return{imgTxt:""}},computed:{listName:function(){return this.list.name}},watch:{listName:function(){this.mountImgTxt()}},mounted:function(){this.mountImgTxt()},methods:{mountImgTxt:function(){var t=this.list.name.split(" "),e=t[0][0].toUpperCase(),n="";t.length>2?n=t[2][0].toUpperCase():t.length>1&&(n=t[1][0].toUpperCase()),this.imgTxt=e+n}}}),Q=K,V=(n("5d0a"),Object(f["a"])(Q,X,J,!1,null,"c6b5bbf2",null)),Z=V.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"grow"}},[t.showingSubMenu==t.item._id?s("div",{staticClass:"subMenu"},[s("button",{class:{deleteBtn:!t.renaming,cancelBtn:t.renaming},on:{click:function(e){return t.$emit("delOrCancel",t.item)}}},[t.renaming?s("img",{attrs:{src:n("f687")}}):s("img",{attrs:{src:n("c637")}})]),s("button",{class:{renameBtn:!t.renaming,saveBtn:t.renaming},on:{click:function(e){return t.$emit("renameOrSave",t.item)}}},[t.renaming?s("img",{attrs:{src:n("2e1f")}}):s("img",{attrs:{src:n("6582")}})])]):t._e()])},et=[],nt={props:{item:{type:Object,required:!0}},computed:Object(c["a"])({},Object(l["b"])(["showingSubMenu","renaming"]))},st=nt,it=(n("c695"),Object(f["a"])(st,tt,et,!1,null,"3ffb4ece",null)),ot=it.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"container"}},[s("transition",{attrs:{name:"grow"}},[t.adding?s("div",{attrs:{id:"innerContainer"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Nome",id:"inputName",autocomplete:"off"},domProps:{value:t.name},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)},input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("button",{on:{click:t.cancelAdding}},[s("img",{attrs:{src:n("f687")}})])]):t._e()]),s("button",{attrs:{id:"addBt"},on:{click:t.add}},[t.adding?s("img",{attrs:{src:n("2e1f")}}):s("img",{attrs:{src:n("eef4")}})])],1)},rt=[],ct={data:function(){return{adding:!1,name:"",currentTop:0}},mounted:function(){window.addEventListener("scroll",this.scroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.scroll)},methods:{cancelAdding:function(){var t=this;this.name="",setTimeout((function(){t.adding=!1}),500)},add:function(){this.adding&&""!==this.name.trim()?(this.$emit("add",this.name),this.name=""):(this.adding=!0,window.addEventListener("animationend",this.inputFocus))},scroll:function(){var t=document.querySelector("#container");window.scrollY>this.currentTop&&!this.adding?(t.style.top="-50px",t.style.opacity="0"):(t.style.top="40px",t.style.opacity="1"),this.currentTop=window.scrollY},inputFocus:function(){var t=document.querySelector("#inputName");t&&t.focus(),window.removeEventListener("animationend",this.inputFocus)}}},ut=ct,lt=(n("8fa7"),Object(f["a"])(ut,at,rt,!1,null,"3de55d5a",null)),dt=lt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.showing?n("div",{attrs:{id:"confirmContainer"}},[n("div",{attrs:{id:"shadow"}}),n("div",{attrs:{id:"confirmDiv"}},[n("div",{attrs:{id:"confirmHeader"}},[t._v(t._s(t.title))]),n("div",{attrs:{id:"confirmBody"}},[n("p",{attrs:{id:"confirmMsg"}})]),n("div",{attrs:{id:"confirmFooter"}},[n("button",{attrs:{id:"confirmYesBt"}},[t._v("Sim")]),n("button",{attrs:{id:"confirmNoBt"}},[t._v("Não")])])])]):t._e()])},ht=[],pt={name:"Confirm",data:function(){return{showing:!1,title:"",message:""}},methods:{confirm:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,!0;case 2:return n.showing=s.sent,s.next=5,t;case 5:return n.title=s.sent,s.next=8,e;case 8:return n.message=s.sent,s.next=11,n.message;case 11:return document.querySelector("#confirmMsg").innerText=s.sent,s.next=14,document.getElementById("confirmYesBt");case 14:return i=s.sent,s.next=17,document.getElementById("confirmNoBt");case 17:return o=s.sent,s.abrupt("return",new Promise((function(t){i.onclick=function(){n.showing=!1,t(!0)},o.onclick=function(){n.showing=!1,t(!1)}})));case 19:case"end":return s.stop()}}),s)})))()}}},ft=pt,gt=(n("3f76"),Object(f["a"])(ft,mt,ht,!1,null,"a191d328",null)),vt=gt.exports,wt={name:"Home",components:{ListImage:Z,BaseAddButton:dt,SubMenu:ot,Confirm:vt},computed:Object(c["a"])({},Object(l["b"])(["list","showingSubMenu","renaming"])),beforeMount:function(){this.list.list=null,this.getLists()},methods:{getLists:function(){var t=this,e=[];qt.getLists().then((function(n){e=n.data.reverse(),t.$store.dispatch("list/setLists",e)}))},addList:function(t){var e=this;qt.postList(t).then((function(t){e.$store.dispatch("list/setLists",[t.data].concat(Object(Y["a"])(e.list.lists)))}))},subMenu:function(t){this.$store.dispatch("setRenaming",null),this.$store.dispatch("setShowingSubMenu",t)},delOrCancel:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.renaming){n.next=4;break}e.$store.dispatch("setRenaming",null),n.next=8;break;case 4:return n.next=6,e.$refs.confirmDialog.confirm("CONFIRME","Deseja mesmo remover a lista ".concat(t.name,"?"));case 6:if(!n.sent){n.next=8;break}qt.deleteList(t._id).then((function(){var n=e.list.lists.filter((function(e){return e.id!=t._id}));e.$store.dispatch("list/setLists",n,{root:!0}),e.getLists()}));case 8:case"end":return n.stop()}}),n)})))()},renameOrSave:function(t){var e=this;if(this.renaming){var n=document.querySelector("#nameInput".concat(t._id));if(""!=n.value.trim())return qt.putList({_id:t._id,name:n.value,todos:t.todos}).then((function(){t.name=n.value,e.$store.dispatch("list/setLists",e.list.lists),e.$store.dispatch("setRenaming",null),e.$store.dispatch("setShowingSubMenu",null)}));n.focus()}else this.$store.dispatch("setRenaming",t._id),setTimeout((function(){var e=document.querySelector("#nameInput".concat(t._id));e.focus()}),200)}}},bt=wt,_t=(n("7404"),Object(f["a"])(bt,G,W,!1,null,"6371187c",null)),yt=_t.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("BaseAddButton",{on:{add:t.addTodo}}),s("div",{attrs:{id:"list"}},[t._l(this.list.todos,(function(e){return s("div",{key:e._id,staticClass:"todoContainer",on:{touchstart:function(n){return t.setComponentClicked(n,e)},click:function(n){return n.preventDefault(),function(n){n.target.id!="nameInput"+e._id&&t.setTodoDone(e)}.apply(null,arguments)}}},[s("div",{staticClass:"todo",class:{done:e.done},on:{contextmenu:function(n){return n.preventDefault(),function(n){n.target.id!="nameInput"+e._id?t.subMenu(e._id):n.target.select()}.apply(null,arguments)}}},[s("img",{style:e.done?"opacity:1":"opacity:0",attrs:{src:n("2e1f")}}),t.renaming!==e._id?s("pre",{staticClass:"nameInput",attrs:{id:"input"+e._id,disabled:""}},[t._v(t._s(e.name))]):t._e(),t.renaming===e._id?s("textarea",{staticClass:"nameInput",attrs:{placeholder:"Nome",id:"nameInput"+e._id,autocomplete:"off"},domProps:{value:e.name},on:{keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:t.delOrCancel(e)},input:function(n){return t.setTodoHeight(e._id)}}}):t._e()]),s("SubMenu",{attrs:{item:e},on:{delOrCancel:t.delOrCancel,renameOrSave:t.renameOrSave}})],1)})),s("Confirm",{ref:"confirmDialog"})],2)],1)},Tt=[],kt=(n("7db0"),n("a630"),n("3ca3"),n("d81d"),n("a434"),{props:{list:{type:Object,required:!0}},data:function(){return{componentClicked:null,initialTouch:null,movingTodo:null,movingShadow:null,jsonMovingTodo:null,scrolling:"none",scrollTimer:null}},components:{SubMenu:ot,Confirm:vt},computed:Object(c["a"])({},Object(l["b"])(["showingMenu","showingSubMenu","renaming"])),beforeRouteUpdate:function(t,e,n){this.$store.dispatch("list/setList",t.params.id).then((function(e){t.params.list=e,n()}))},beforeMount:function(){document.body.addEventListener("touchmove",this.touchMove,{passive:!1}),document.body.addEventListener("touchend",this.touchEnd,{passive:!1})},methods:{addTodo:function(t){var e=this,n={_id:1+Math.floor(9999999*Math.random()),name:t,done:!1};while(this.list.todos.find((function(t){return t._id==n._id})))n._id=1+Math.floor(9999999*Math.random());var s=[].concat(Object(Y["a"])(this.list.todos),[n]);qt.putList({_id:this.list._id,name:this.list.name,todos:s}).then((function(){e.$store.dispatch("list/setTodos",s),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})).catch((function(t){console.log(t.response)}))},setTodoDone:function(t){var e=this;this.renaming||this.showingSubMenu||(t.done=!t.done,qt.putList({_id:this.list._id,name:this.list.name,todos:this.list.todos}).then((function(){e.$store.dispatch("list/setTodos",e.list.todos)})).catch((function(t){console.log(t.response)})))},subMenu:function(t){this.$store.dispatch("setRenaming",null),this.$store.dispatch("setShowingSubMenu",t)},delOrCancel:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.renaming){n.next=4;break}e.$store.dispatch("setRenaming",null),n.next=9;break;case 4:return n.next=6,e.$refs.confirmDialog.confirm("CONFIRME","Deseja mesmo remover a seguinte tarefa?\n\n".concat(t.name));case 6:if(!n.sent){n.next=9;break}s=e.list.todos.filter((function(e){return e._id!==t._id})),qt.putList({_id:e.list._id,name:e.list.name,todos:s}).then((function(){e.list.todos=s,e.store.dispatch("list/setTodos",s)})).catch((function(t){console.log(t.response)}));case 9:case"end":return n.stop()}}),n)})))()},renameOrSave:function(t){var e=this;if(this.renaming){var n=document.querySelector("#nameInput".concat(t._id));if(""!=n.value.trim())return this.list.todos.find((function(e){return e._id==t._id})).name=n.value,qt.putList({_id:this.list._id,name:this.list.name,todos:this.list.todos}).then((function(){t.name=n.value,e.$store.dispatch("setRenaming",null),e.$store.dispatch("setShowingSubMenu",null)})).catch((function(t){console.log(t)}));n.focus()}else this.$store.dispatch("setRenaming",t._id),setTimeout((function(){e.setTodoHeight(t._id),document.querySelector("#nameInput".concat(t._id)).focus()}),50)},setComponentClicked:function(t,e){if(!t.target.id.includes("nameInput")){this.componentClicked=t.target,this.jsonMovingTodo=e;while(!this.componentClicked.classList.contains("list")&&!this.componentClicked.classList.contains("todoContainer"))this.componentClicked=this.componentClicked.parentNode;this.componentClicked.classList.contains("todoContainer")?this.initialTouch={x:t.touches[0].clientX,y:t.touches[0].clientY}:(this.componentClicked=null,this.initialTouch=null)}},setShadowPos:function(t){var e=t.touches[t.touches.length-1].clientX,n=t.touches[t.touches.length-1].clientY;this.movingShadow.style.top="".concat(n-this.initialTouch.y+window.scrollY,"px");var s=e-this.initialTouch.x;s<0?s=0:s+this.movingShadow.offsetWidth>window.innerWidth&&(s=window.innerWidth-this.movingShadow.innerWidth),this.movingShadow.style.left="".concat(s,"px")},touchMove:function(t){var e=this;if(this.componentClicked){var n=t.touches[t.touches.length-1].clientX,s=t.touches[t.touches.length-1].clientY;if(this.movingTodo||this.$parent.menuLeft||this.renaming){if(!this.$parent.menuLeft&&!this.renaming){t.preventDefault(),this.setShadowPos(t);var i=document.getElementById("list"),o=Array.from(i.children);o.map((function(t,n){if(t!=e.movingTodo){var o=t.getBoundingClientRect();s>o.y&&s<o.y+o.height/2?(i.insertBefore(e.movingTodo,t),e.list.todos.indexOf(e.jsonMovingTodo)>n?(e.list.todos.splice(e.list.todos.indexOf(e.jsonMovingTodo),1),e.list.todos.splice(n,0,e.jsonMovingTodo)):(e.list.todos.splice(e.list.todos.indexOf(e.jsonMovingTodo),1),e.list.todos.splice(n-1,0,e.jsonMovingTodo))):s>o.y&&s<o.y+o.height&&(i.insertBefore(e.movingTodo,t.nextSibling),e.list.todos.indexOf(e.jsonMovingTodo)>n?(e.list.todos.splice(e.list.todos.indexOf(e.jsonMovingTodo),1),e.list.todos.splice(n+1,0,e.jsonMovingTodo)):(e.list.todos.splice(e.list.todos.indexOf(e.jsonMovingTodo),1),e.list.todos.splice(n,0,e.jsonMovingTodo)))}})),s<=window.innerHeight/100*30?"fast-top"!=this.scrolling&&(this.scrolling="fast-top",this.scrollList()):s<=window.innerHeight/100*40?"slow-top"!=this.scrolling&&(this.scrolling="slow-top",this.scrollList()):s>=window.innerHeight/100*80?"fast-bottom"!=this.scrolling&&(this.scrolling="fast-bottom",this.scrollList()):s>=window.innerHeight/100*70?"slow-bottom"!=this.scrolling&&(this.scrolling="slow-bottom",this.scrollList()):this.scrolling="none"}}else(n-this.initialTouch.x>20||this.initialTouch.x-n>20)&&s<=this.initialTouch.y+5&&s>=this.initialTouch.y-5?(this.initialTouch.x=n-this.componentClicked.offsetLeft,this.initialTouch.y=s-this.componentClicked.offsetTop+window.scrollY,this.setMovingTodo()):(s-this.initialTouch.y>20||this.initialTouch.y-s>20)&&(this.componentClicked=null)}},touchEnd:function(){var t=this;this.componentClicked&&(this.componentClicked=null,this.initialTouch=null,this.scrolling="none",this.movingTodo&&(this.movingTodo.style="",this.movingTodo=null),this.movingShadow&&(document.body.removeChild(this.movingShadow),this.movingShadow=null,qt.putList({_id:this.list._id,name:this.list.name,todos:this.list.todos}).then((function(){t.$store.dispatch("list/setTodos",t.list.todos)})).catch((function(t){console.log(t.response)}))))},setMovingTodo:function(){this.movingTodo||(this.movingTodo=this.componentClicked,this.movingShadow=this.movingTodo.cloneNode(!0),this.movingShadow.classList=this.movingTodo.classList,Object.assign(this.movingShadow.style,{position:"absolute",background:"#303030",fontWeight:"bold",color:"#bdbdbd",width:"calc(100% - 20px)",fontFamily:"sans-serif",webkitFontSmoothing:"antialiased",mozOsxFontSmoothing:"grayscale"}),document.body.appendChild(this.movingShadow),this.movingTodo.style.opacity=".1")},scrollList:function(){var t=this;if("none"!=this.scrolling){var e={"slow-top":-4,"fast-top":-8,"slow-bottom":4,"fast-bottom":8};window.scrollBy({left:0,top:e[this.scrolling]}),clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((function(){"none"!=t.scrolling&&t.scrollList()}),16)}},setTodoHeight:function(t){var e=document.querySelector("#nameInput".concat(t));e.setAttribute("rows",1);var n=Math.floor(e.scrollHeight/16);e.setAttribute("rows",n)}}}),xt=kt,Et=(n("575c"),Object(f["a"])(xt,St,Tt,!1,null,"3971d8a3",null)),It=Et.exports;o["a"].use($["a"]);var Lt=[{path:"/",name:"Login",component:U},{path:"/signup",name:"Signup",component:z},{path:"/home",name:"Home",component:yt,beforeEnter:function(t,e,n){Dt.state.session.user?n():n("/")}},{path:"/list/:id",name:"List",component:It,props:!0,beforeEnter:function(t,e,n){Dt.state.session.user?Dt.dispatch("list/setList",t.params.id).then((function(e){t.params.list=e,n()})):n("/")}}],Mt=new $["a"]({mode:"history",base:"/TaskControlApp/",routes:Lt});Mt.beforeEach((function(t,e,n){var s=Dt.state.showingMenu,i=Dt.state.renaming;s&&Dt.dispatch("setShowingMenu"),i?n(!1):n()}));var Ct=Mt,Ot=!0,$t={user:JSON.parse(localStorage.getItem("Razion.user"))||""},jt={SET_USER:function(t,e){t.user=e,e?e!=localStorage.getItem("Razion.user")&&localStorage.setItem("Razion.user",JSON.stringify(e)):localStorage.removeItem("Razion.user")}},Pt={setUser:function(t,e){var n=t.commit;n("SET_USER",e)}},Nt=(n("a9e3"),!0),Bt={lists:[],list:{}},Rt={SET_LISTS:function(t,e){t.lists=e},SET_LIST:function(t,e){t.list=e},SET_TODOS:function(t,e){t.list.todos=e}},Ut={setLists:function(t,e){var n=t.commit;n("SET_LISTS",e)},setList:function(t,e){var n=t.commit,s=t.getters,i=s.getListById(e);return i?(n("SET_LIST",i),i):e?qt.getListById(e).then((function(t){return n("SET_LIST",t.data),t.data})).catch((function(t){console.log("erro:",t.response)})):void 0},setTodos:function(t,e){var n=t.commit;n("SET_TODOS",e)}},At={getListById:function(t){return function(e){return t.lists.find((function(t){return t._id===Number(e)}))}}};o["a"].use(l["a"]);var Dt=new l["a"].Store({state:{showingMenu:!1,showingSubMenu:null,renaming:null,loading:!1,currentPath:"/",message:null},mutations:{SET_SHOWING_MENU:function(t){t.showingMenu=!t.showingMenu},SET_SHOWING_SUB_MENU:function(t,e){t.showingSubMenu=e},SET_RENAMING:function(t,e){t.renaming=e},SET_LOADING:function(t,e){t.loading=e},SET_CURRENT_PATH:function(t,e){t.currentPath=e},SET_MESSAGE:function(t,e){t.message=e}},actions:{setShowingMenu:function(t){var e=t.commit;e("SET_SHOWING_MENU")},setShowingSubMenu:function(t,e){var n=t.commit;n("SET_SHOWING_SUB_MENU",e)},setRenaming:function(t,e){var n=t.commit;n("SET_RENAMING",e)},setLoading:function(t,e){var n=t.commit;n("SET_LOADING",e)},setCurrentPath:function(t,e){var n=t.commit;n("SET_CURRENT_PATH",e)},goTo:function(t,e){var n=t.state;n.currentPath!=e&&Ct.push("".concat(e))},showMessage:function(t,e){var n=t.commit;n("SET_MESSAGE",e)}},modules:{session:s,list:i}}),Ht=O.a.create({baseURL:"https://razion-apis.herokuapp.com/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),Ft=function(){return{headers:{user_id:Dt.state.session.user._id}}};Ht.interceptors.request.use((function(t){return Dt.dispatch("setLoading",!0),t}),(function(t){return Dt.dispatch("setLoading",!1),console.log("Erro: ",t.response.data.error),Dt.dispatch("showMessage",{title:"Erro",msg:t.response.data.error}),Promise.reject(t)})),Ht.interceptors.response.use((function(t){return Dt.dispatch("setLoading",!1),t}),(function(t){return Dt.dispatch("setLoading",!1),console.log("Erro: ",t.response.data.error),Dt.dispatch("showMessage",{title:"Erro",msg:t.response.data.error}),Promise.reject(t)}));var qt={signUp:function(t){return Ht.post("/session/signup",t)},login:function(t){return Ht.post("/session/login",t)},getLists:function(){return Ht.get("taskControl/list/listAll",Ft())},getListById:function(t){return Ht.get("taskControl/list/listOne/".concat(t),Ft())},postList:function(t){return Ht.post("taskControl/list/create",{name:t},Ft())},putList:function(t){return Ht.put("taskControl/list/update/".concat(t._id),t,Ft())},deleteList:function(t){return Ht.delete("taskControl/list/delete/".concat(t),Ft())}},zt={data:function(){return{touchStart:null,touchPos:null,menuLeft:void 0,listsArray:[]}},watch:{message:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.message){e.next=3;break}return e.next=3,t.$refs.Message.show(t.message);case 3:case"end":return e.stop()}}),e)})))()},$route:function(){this.$store.dispatch("setCurrentPath",this.$route.path)}},components:{Menu:v,Message:T,Loading:M},computed:Object(c["a"])({},Object(l["b"])(["session","list","showingMenu","message"])),mounted:function(){var t=this;if(this.session.user){var e=[];qt.getLists().then((function(n){e=n.data.reverse(),t.$store.dispatch("list/setLists",e)}))}window.addEventListener("touchstart",this.setTouchStart),window.addEventListener("mousedown",this.setTouchStart),window.addEventListener("touchmove",this.setTouchPos,{passive:!1}),window.addEventListener("mousemove",this.setTouchPos),window.addEventListener("touchend",this.setTouchEnd),window.addEventListener("mouseup",this.setTouchEnd),window.addEventListener("click",(function(e){var n=e.target;if(!e.target.id.includes("nameInput")){for(var s=0;s<3;s++){if(n.classList.contains("subMenu")||"INPUT"==n.tagName||!n.parentElement)break;n=n.parentElement}n.classList.contains("subMenu")||"INPUT"==n.tagName||(t.$store.dispatch("setShowingSubMenu",null),t.$store.dispatch("setRenaming",null))}}))},methods:{setTouchStart:function(t){t.touches?this.touchStart=t.touches[0]:this.touchStart=t},setTouchPos:function(t){if(t.touches?this.touchPos=t.touches[t.touches.length-1]:this.touchPos=t,this.touchStart)if(!this.showingMenu&&this.touchStart.clientX<30){var e=this.touchPos.clientX-this.touchStart.clientX-300;e<=0&&(this.menuLeft=e),t.preventDefault()}else if(this.showingMenu){var n=this.touchPos.clientX-this.touchStart.clientX;n<=0&&(this.menuLeft=n)}},setTouchEnd:function(){void 0!=this.menuLeft&&(this.showingMenu?this.menuLeft<=-25?this.$store.dispatch("setShowingMenu"):this.menuLeft=void 0:this.menuLeft>=-275?this.$store.dispatch("setShowingMenu"):this.menuLeft=void 0),this.touchStart=null,this.touchPos=null,this.menuLeft=null}}},Gt=zt,Wt=(n("034f"),Object(f["a"])(Gt,a,r,!1,null,null,null)),Yt=Wt.exports,Xt=n("9483");Object(Xt["a"])("".concat("/TaskControlApp/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),o["a"].component("BaseAddButton",dt),o["a"].config.productionTip=!1,new o["a"]({router:Ct,store:Dt,render:function(t){return t(Yt)}}).$mount("#app")},"575c":function(t,e,n){"use strict";n("3953")},5837:function(t,e,n){"use strict";n("ec2c")},"5d0a":function(t,e,n){"use strict";n("4ccb")},6582:function(t,e,n){t.exports=n.p+"img/edit.cab2c13c.svg"},6659:function(t,e,n){"use strict";n("f84e")},7404:function(t,e,n){"use strict";n("8b57")},"85ec":function(t,e,n){},"8b57":function(t,e,n){},"8fa7":function(t,e,n){"use strict";n("b0d1")},a0cf:function(t,e,n){},b0d1:function(t,e,n){},b5f2:function(t,e,n){},bff8:function(t,e,n){},c28f:function(t,e,n){"use strict";n("a0cf")},c637:function(t,e,n){t.exports=n.p+"img/trash.c1845fb4.svg"},c695:function(t,e,n){"use strict";n("1d56")},ec2c:function(t,e,n){},eef4:function(t,e,n){t.exports=n.p+"img/add.83ac8b70.svg"},f687:function(t,e,n){t.exports=n.p+"img/cancel.df0f669e.svg"},f84e:function(t,e,n){}});